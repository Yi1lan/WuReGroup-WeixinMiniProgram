 # 测试演示脚本

## 🎯 快速验证测试功能

### 演示步骤 1：快捷登录测试

1. **打开登录页面**
   - 确认页面显示测试模式区域（橙色边框）
   - 看到"🧪 测试模式"标题
   - 看到3个测试账号按钮

2. **点击测试账号登录**
   - 点击"测试管理员 (13800000001)"按钮
   - 观察手机号和验证码自动填入
   - 等待1秒后自动执行登录
   - 成功后跳转到首页

3. **验证登录状态**
   - 首页显示用户信息
   - 显示"测试管理员"昵称
   - 可以正常退出登录

### 演示步骤 2：手动注册测试

1. **打开注册页面**
   - 从登录页面点击"没有账号？去注册"
   - 确认页面显示测试模式区域

2. **使用测试数据填充**
   - 点击"填入测试数据"按钮
   - 确认所有字段自动填入：
     - 手机号：13800000004
     - 验证码：888888
     - 密码：123456

3. **完成注册**
   - 点击"注册"按钮
   - 看到"注册成功（测试模式）"提示
   - 自动跳转回登录页面

### 演示步骤 3：API测试页面

1. **进入测试页面**
   - 从首页点击"API测试"按钮
   - 进入API测试界面

2. **测试发送验证码**
   - 输入测试手机号：13800000005
   - 点击"发送验证码"
   - 看到成功响应（测试模式）

3. **测试注册接口**
   - 点击"使用测试数据"填充信息
   - 点击"测试注册"
   - 查看详细的JSON响应结果

4. **测试登录接口**
   - 点击"使用测试数据"填充信息
   - 点击"测试登录"
   - 查看登录响应和token信息

## 🔍 验证检查点

### 功能检查
- [ ] 测试模式区域正确显示
- [ ] 快捷登录按钮工作正常
- [ ] 测试验证码发送成功
- [ ] 测试账号登录成功
- [ ] 新测试手机号注册成功
- [ ] API测试界面功能完整

### 数据检查
- [ ] 控制台显示"使用测试模式"日志
- [ ] 登录后获得测试token
- [ ] 用户信息正确保存
- [ ] 退出登录后数据清除

### 安全检查
- [ ] 非测试手机号仍调用真实API
- [ ] 生产模式开关有效
- [ ] 测试数据不会污染生产环境

## 🚨 故障排除

### 问题：测试模式不显示
**解决方案**：
1. 检查 `src/config/test.ts` 中 `ENABLE_TEST_MODE` 是否为 `true`
2. 重新编译项目
3. 清除小程序缓存

### 问题：验证码错误
**解决方案**：
1. 确认使用的是测试验证码 `888888`
2. 确认手机号以 `138000000` 开头
3. 检查控制台是否有"使用测试模式"日志

### 问题：登录失败
**解决方案**：
1. 确认测试账号存在于配置中
2. 使用预设的测试账号 13800000001-13800000003
3. 检查网络连接和API配置

## 📝 测试报告模板

```
测试日期：____年____月____日
测试人员：____________
测试环境：____________

功能测试结果：
□ 快捷登录功能    通过/失败
□ 手动注册功能    通过/失败  
□ 验证码发送      通过/失败
□ API测试界面     通过/失败

发现问题：
1. ________________
2. ________________
3. ________________

备注：
____________________
____________________
```

## 🎉 完成标准

所有测试通过后，确认：
- 开发团队可以无障碍使用测试账号
- 真实API接口调用不受影响
- 测试和生产环境可以正确切换
- 错误处理和用户反馈完善

---

**使用提示**：建议在每次代码更新后运行此演示脚本，确保测试功能持续有效。